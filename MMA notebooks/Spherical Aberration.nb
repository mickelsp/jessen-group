(* Content-type: application/mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 7.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       145,          7]
NotebookDataLength[     27579,        656]
NotebookOptionsPosition[     25637,        586]
NotebookOutlinePosition[     25977,        601]
CellTagsIndexPosition[     25934,        598]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Spherical Aberration", "Subsubtitle",
 CellChangeTimes->{{3.511020811235381*^9, 3.511020814221857*^9}}],

Cell["\<\
Spherical aberration occurs because the paraxial approximation for ray \
tracing breaks down.  Basically, rays which are radially far away from the \
axis of propagation will bend different amounts in a lens than do rays that \
are on-axis, leading to displacement of the focal point for those rays from \
the ideal focal point.\
\>", "Text",
 CellChangeTimes->{{3.5110207885362663`*^9, 3.511020902466765*^9}}],

Cell["\<\
Two things are required to evaluate the amount of spherical aberration for a \
given lens:  the size of the beam in the ideal case, and the expected spot \
size from spherical aberration.  Comparing these two numbers can help us get \
a handle on how big of an effect to expect.\
\>", "Text",
 CellChangeTimes->{{3.511020905980433*^9, 3.511020987840006*^9}}],

Cell[CellGroupData[{

Cell["Estimate Spot Size Due To Spherical Aberration", "Section",
 CellChangeTimes->{{3.511020992572899*^9, 3.511020998088711*^9}, {
  3.511021410394722*^9, 3.511021418355351*^9}}],

Cell["\<\
For the following conditions, we can estimate spherical aberration easily:
- Monochromatic light;
- Plano-convex lens;
- Infinite conjugate ratio (i.e. either the input or the output is a \
collimated beam, i.e. either the object or the image is at infinity).

The formula for the spot sizedue to spherical aberration depends on the focal \
length, f, and the clear aperture, CA (where the light passes through), of \
the lens.  For some CVI Melles Griot lenses, the CA is 85% of the physical \
diameter of the lens.\
\>", "Text",
 CellChangeTimes->{{3.511021003067602*^9, 3.511021113556217*^9}, {
  3.511021246425503*^9, 3.5110213264613733`*^9}}],

Cell[BoxData[{
 RowBox[{"Clear", "[", 
  RowBox[{"fnum", ",", "aberrationspotsize"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fnum", "[", 
   RowBox[{"f_", ",", "CA_"}], "]"}], ":=", 
  RowBox[{"f", "/", "CA"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"aberrationspotsize", "[", 
   RowBox[{"f_", ",", "CA_"}], "]"}], ":=", 
  FractionBox[
   RowBox[{"0.067", "*", "f"}], 
   SuperscriptBox[
    RowBox[{"fnum", "[", 
     RowBox[{"f", ",", "CA"}], "]"}], "3"]]}]}], "Input",
 CellChangeTimes->{{3.5110211203453913`*^9, 3.511021231070115*^9}, {
  3.511021534010455*^9, 3.5110215577372026`*^9}, {3.51102160402448*^9, 
  3.511021644841506*^9}, {3.5110216922878036`*^9, 3.511021699064047*^9}, {
  3.511022162522416*^9, 3.511022164610478*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Calculate Ideal Spot Size", "Section",
 CellChangeTimes->{{3.509462108710577*^9, 3.509462110263142*^9}, {
  3.5110213995693197`*^9, 3.511021404018786*^9}}],

Cell[CellGroupData[{

Cell["\<\
Initial values (radius of curvature and beam radius just before entering \
first lens)\
\>", "Subsection",
 CellChangeTimes->{{3.500140833263996*^9, 3.500140834706242*^9}, {
   3.500144788062704*^9, 3.500144827237946*^9}, {3.500144930890167*^9, 
   3.500144945481666*^9}, 3.500160437315712*^9, {3.509466397762446*^9, 
   3.509466400552143*^9}}],

Cell["\<\
Define a longitudinal position for the waist of the incoming beam, z0, which \
will set our entire coordinate system.\
\>", "Text",
 CellChangeTimes->{{3.509464817495781*^9, 3.509464836522356*^9}}],

Cell[BoxData[{
 RowBox[{"Clear", "[", 
  RowBox[{"lambda", ",", "z0", ",", "w0", ",", "beforelens"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"Needs", "[", "\"\<PlotLegends`\>\"", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"z0", " ", "=", "0"}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "define", " ", "longitudinal", " ", "position", " ", "of", " ", "incoming",
     " ", "beam", " ", "waist"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"lambda", "=", 
    RowBox[{"1064", "*", 
     RowBox[{"10", "^", 
      RowBox[{"-", "9"}]}]}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"laser", " ", "wavelength"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"w0", " ", "=", " ", 
   RowBox[{"2.5", "*", 
    RowBox[{"10", "^", 
     RowBox[{"-", "3"}]}]}]}], ";", " ", 
  RowBox[{"(*", " ", 
   RowBox[{"beam", " ", "waist"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"zR", "=", 
   RowBox[{"\[Pi]", "*", 
    RowBox[{
     RowBox[{"w0", "^", "2"}], "/", "lambda"}]}]}], ";", " ", 
  RowBox[{"(*", " ", 
   RowBox[{"Rayleigh", " ", "range"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"beforelens", "[", "z_", "]"}], ":=", 
   RowBox[{"N", "[", 
    RowBox[{"w0", "*", 
     SqrtBox[
      RowBox[{"1", "+", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"z", "-", "z0"}], ")"}], "^", "2"}], "/", 
        RowBox[{"zR", "^", "2"}]}]}]]}], "]"}], " ", 
   RowBox[{"(*", " ", 
    RowBox[{
    "incoming", " ", "beam", " ", "size", " ", "as", " ", "a", " ", 
     "function", " ", "of", " ", "z"}], " ", "*)"}]}]}]}], "Input",
 CellChangeTimes->{{3.500140520067484*^9, 3.5001406832269297`*^9}, {
   3.50014214437562*^9, 3.500142156155447*^9}, 3.500142770560585*^9, {
   3.50014285777414*^9, 3.500142857982499*^9}, {3.500142905278551*^9, 
   3.500142946403886*^9}, {3.5001430314180107`*^9, 3.500143032928158*^9}, {
   3.5001431219685287`*^9, 3.500143122798479*^9}, {3.500143667913657*^9, 
   3.500143699618272*^9}, {3.5001439113602743`*^9, 3.500143935613234*^9}, {
   3.500144517411994*^9, 3.5001445474333773`*^9}, {3.500144615851759*^9, 
   3.500144632704624*^9}, {3.500145333059181*^9, 3.5001453373962603`*^9}, {
   3.50014615621462*^9, 3.5001461589388037`*^9}, {3.50015696106325*^9, 
   3.500156961709689*^9}, {3.500159446734951*^9, 3.500159447682279*^9}, {
   3.500159500551297*^9, 3.500159523408925*^9}, {3.5001595766793337`*^9, 
   3.50015958017592*^9}, {3.500159786749751*^9, 3.500159829201008*^9}, {
   3.500159958374003*^9, 3.50015995963729*^9}, {3.5002122247378283`*^9, 
   3.5002122250167637`*^9}, {3.509462376099207*^9, 3.509462453532504*^9}, {
   3.509464662128366*^9, 3.509464730580579*^9}, {3.509464763383894*^9, 
   3.509464807770452*^9}, {3.509464886956642*^9, 3.50946491395433*^9}, {
   3.509464945690192*^9, 3.509464953028858*^9}, {3.509465009961204*^9, 
   3.509465024495099*^9}, {3.509466125440214*^9, 3.5094661350792828`*^9}, {
   3.50946621331507*^9, 3.509466232387545*^9}, 3.509466325769245*^9, {
   3.5094665535226097`*^9, 3.5094665546098824`*^9}, 3.5094673462929*^9, {
   3.509467397202098*^9, 3.5094673974883957`*^9}, {3.5110218040485477`*^9, 
   3.51102182614079*^9}, {3.511021962524748*^9, 3.511021963544701*^9}, {
   3.511022337566785*^9, 3.511022340724793*^9}}],

Cell["\<\
Calculate the radius of curvature, the beam size, and the complex beam \
parameter, all just before the lens.  Check that inverting the complex beam \
parameter gives back the same values for radius of curvature and beam size as \
when those quantities are calculated directly.\
\>", "Text",
 CellChangeTimes->{{3.500147449257856*^9, 3.500147461484686*^9}, {
  3.500157280000724*^9, 3.500157299381847*^9}, {3.5094650770192413`*^9, 
  3.5094651419590883`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Clear", "[", 
  RowBox[{
  "qbeforelensinverse", ",", "lensR", ",", "lensW", ",", "z1", ",", 
   "zlens1"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"z1", "=", "0.75"}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"distance", " ", "from", " ", "waist"}], ",", " ", "z0", ",", " ", 
    RowBox[{"to", " ", "lens", " ", "1"}]}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"zlens1", "=", 
    RowBox[{"z0", "+", "z1"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "position", " ", "of", " ", "lens", " ", "1", " ", "in", " ", "lab", " ", 
    "coordinate", " ", "system"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"lensR", " ", "=", " ", 
   RowBox[{"N", "[", 
    RowBox[{"z1", "*", 
     RowBox[{"(", 
      RowBox[{"1", "+", 
       FractionBox[
        RowBox[{"zR", "^", "2"}], 
        RowBox[{"z1", "^", "2"}]]}], ")"}]}], "]"}]}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "radius", " ", "of", " ", "curvature", " ", "at", " ", "lens", " ", "1"}], 
   " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"lensW", " ", "=", " ", 
   RowBox[{"N", "[", 
    RowBox[{"w0", "*", 
     SqrtBox[
      RowBox[{"1", "+", 
       RowBox[{
        RowBox[{"z1", "^", "2"}], "/", 
        RowBox[{"zR", "^", "2"}]}]}]]}], "]"}]}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"size", " ", "of", " ", "beam", " ", "at", " ", "lens", " ", "1"}],
    " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"qbeforelensinverse", "=", 
   RowBox[{
    RowBox[{"1", "/", "lensR"}], "-", 
    FractionBox[
     RowBox[{"\[ImaginaryI]", "*", "lambda"}], 
     RowBox[{"\[Pi]", "*", 
      RowBox[{"lensW", "^", "2"}]}]]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"testlensR", "=", 
   RowBox[{"1", "/", 
    RowBox[{"Re", "[", "qbeforelensinverse", "]"}]}]}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "radius", " ", "of", " ", "curvature", " ", "at", " ", "lens", " ", "1"}], 
   " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{"testlensW", "=", 
  SqrtBox[
   FractionBox["lambda", 
    RowBox[{"\[Pi]", "*", 
     RowBox[{"Im", "[", "qbeforelensinverse", "]"}]}]]], 
  RowBox[{"(*", " ", 
   RowBox[{"size", " ", "of", " ", "beam", " ", "at", " ", "lens", " ", "1"}],
    " ", "*)"}]}]}], "Input",
 CellChangeTimes->{{3.5001474633663054`*^9, 3.500147489788961*^9}, 
   3.500147975195052*^9, {3.500148026926306*^9, 3.500148029901651*^9}, {
   3.500148100676001*^9, 3.500148121300592*^9}, {3.500153423651989*^9, 
   3.5001534269738073`*^9}, 3.500157012482799*^9, {3.500157058346735*^9, 
   3.5001571377025948`*^9}, {3.500157256709854*^9, 3.500157267474586*^9}, {
   3.5001595463053713`*^9, 3.500159551459264*^9}, {3.500159586240782*^9, 
   3.5001595865825567`*^9}, {3.509462513726985*^9, 3.509462533174638*^9}, {
   3.5094650216749363`*^9, 3.509465040877099*^9}, {3.509466237231744*^9, 
   3.509466269532683*^9}, {3.5094664411857*^9, 3.5094664667844877`*^9}, {
   3.5094665361857367`*^9, 3.509466539556384*^9}, {3.509466723896737*^9, 
   3.5094667372394333`*^9}, {3.50946679325275*^9, 3.509466825300131*^9}, {
   3.5094673484942217`*^9, 3.509467349484496*^9}}],

Cell[BoxData["454.81210771000923`"], "Output",
 CellChangeTimes->{
  3.500157014095405*^9, {3.50015710855851*^9, 3.500157138530567*^9}, {
   3.500157259428034*^9, 3.500157267846736*^9}, 3.500159552937845*^9, {
   3.5001595833066473`*^9, 3.50015958697686*^9}, 3.5001599622569227`*^9, {
   3.500212095172421*^9, 3.500212106113093*^9}, 3.500212232059415*^9, 
   3.5002184196297617`*^9, 3.509400359542048*^9, 3.509462073157605*^9, 
   3.5094625361274233`*^9, {3.509464881970214*^9, 3.5094649552788973`*^9}, {
   3.509465017099126*^9, 3.509465061349893*^9}, 3.509465147576877*^9, 
   3.509466275558714*^9, 3.509466328949513*^9, {3.509466518815428*^9, 
   3.509466556723455*^9}, 3.509466831944581*^9, 3.509467350007495*^9, 
   3.5094673999376183`*^9, 3.5094830427876863`*^9, 3.5094844794668713`*^9, 
   3.509485605527741*^9, 3.509486059958004*^9, 3.511020488658057*^9, 
   3.511021471797983*^9, {3.511021751320551*^9, 3.511021780308967*^9}, 
   3.511021828862205*^9, 3.511021975132283*^9, 3.5110223475724688`*^9, 
   3.51102936661117*^9}],

Cell[BoxData["0.002502063843630795`"], "Output",
 CellChangeTimes->{
  3.500157014095405*^9, {3.50015710855851*^9, 3.500157138530567*^9}, {
   3.500157259428034*^9, 3.500157267846736*^9}, 3.500159552937845*^9, {
   3.5001595833066473`*^9, 3.50015958697686*^9}, 3.5001599622569227`*^9, {
   3.500212095172421*^9, 3.500212106113093*^9}, 3.500212232059415*^9, 
   3.5002184196297617`*^9, 3.509400359542048*^9, 3.509462073157605*^9, 
   3.5094625361274233`*^9, {3.509464881970214*^9, 3.5094649552788973`*^9}, {
   3.509465017099126*^9, 3.509465061349893*^9}, 3.509465147576877*^9, 
   3.509466275558714*^9, 3.509466328949513*^9, {3.509466518815428*^9, 
   3.509466556723455*^9}, 3.509466831944581*^9, 3.509467350007495*^9, 
   3.5094673999376183`*^9, 3.5094830427876863`*^9, 3.5094844794668713`*^9, 
   3.509485605527741*^9, 3.509486059958004*^9, 3.511020488658057*^9, 
   3.511021471797983*^9, {3.511021751320551*^9, 3.511021780308967*^9}, 
   3.511021828862205*^9, 3.511021975132283*^9, 3.5110223475724688`*^9, 
   3.5110293666491013`*^9}],

Cell[BoxData["454.81210771000923`"], "Output",
 CellChangeTimes->{
  3.500157014095405*^9, {3.50015710855851*^9, 3.500157138530567*^9}, {
   3.500157259428034*^9, 3.500157267846736*^9}, 3.500159552937845*^9, {
   3.5001595833066473`*^9, 3.50015958697686*^9}, 3.5001599622569227`*^9, {
   3.500212095172421*^9, 3.500212106113093*^9}, 3.500212232059415*^9, 
   3.5002184196297617`*^9, 3.509400359542048*^9, 3.509462073157605*^9, 
   3.5094625361274233`*^9, {3.509464881970214*^9, 3.5094649552788973`*^9}, {
   3.509465017099126*^9, 3.509465061349893*^9}, 3.509465147576877*^9, 
   3.509466275558714*^9, 3.509466328949513*^9, {3.509466518815428*^9, 
   3.509466556723455*^9}, 3.509466831944581*^9, 3.509467350007495*^9, 
   3.5094673999376183`*^9, 3.5094830427876863`*^9, 3.5094844794668713`*^9, 
   3.509485605527741*^9, 3.509486059958004*^9, 3.511020488658057*^9, 
   3.511021471797983*^9, {3.511021751320551*^9, 3.511021780308967*^9}, 
   3.511021828862205*^9, 3.511021975132283*^9, 3.5110223475724688`*^9, 
   3.511029366683465*^9}],

Cell[BoxData[
 RowBox[{"0.`", "\[InvisibleSpace]", "+", 
  RowBox[{"0.002502063843630795`", " ", "\[ImaginaryI]"}]}]], "Output",
 CellChangeTimes->{
  3.500157014095405*^9, {3.50015710855851*^9, 3.500157138530567*^9}, {
   3.500157259428034*^9, 3.500157267846736*^9}, 3.500159552937845*^9, {
   3.5001595833066473`*^9, 3.50015958697686*^9}, 3.5001599622569227`*^9, {
   3.500212095172421*^9, 3.500212106113093*^9}, 3.500212232059415*^9, 
   3.5002184196297617`*^9, 3.509400359542048*^9, 3.509462073157605*^9, 
   3.5094625361274233`*^9, {3.509464881970214*^9, 3.5094649552788973`*^9}, {
   3.509465017099126*^9, 3.509465061349893*^9}, 3.509465147576877*^9, 
   3.509466275558714*^9, 3.509466328949513*^9, {3.509466518815428*^9, 
   3.509466556723455*^9}, 3.509466831944581*^9, 3.509467350007495*^9, 
   3.5094673999376183`*^9, 3.5094830427876863`*^9, 3.5094844794668713`*^9, 
   3.509485605527741*^9, 3.509486059958004*^9, 3.511020488658057*^9, 
   3.511021471797983*^9, {3.511021751320551*^9, 3.511021780308967*^9}, 
   3.511021828862205*^9, 3.511021975132283*^9, 3.5110223475724688`*^9, 
   3.5110293667154427`*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Propagation through a lens (at position z >= z1)", "Subsection",
 CellChangeTimes->{{3.500140839742435*^9, 3.500140841290083*^9}, {
   3.5001448336161003`*^9, 3.5001448387807302`*^9}, {3.500144918082139*^9, 
   3.500144953578876*^9}, 3.511021438227787*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Clear", "[", 
  RowBox[{"afterlensR", ",", "afterlensW"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"afterlensW", "=", "lensW"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{
    "size", " ", "of", " ", "beam", " ", "directly", " ", "after", " ", 
     "lens", " ", "1"}], ";", " ", 
    RowBox[{
    "same", " ", "as", " ", "right", " ", "before", " ", "lens", " ", "1"}]}],
    " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{"afterlensR", "=", 
  RowBox[{"1", "/", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"1", "/", "lensR"}], "-", 
     RowBox[{"1", "/", "f"}]}], ")"}], " ", 
   RowBox[{"(*", " ", 
    RowBox[{
    "radius", " ", "of", " ", "curvature", " ", "of", " ", "beam", " ", 
     "after", " ", "lens", " ", "1"}], " ", "*)"}]}]}]}], "Input",
 CellChangeTimes->{{3.5001455901757393`*^9, 3.5001456193662767`*^9}, {
  3.50014617428094*^9, 3.500146177749751*^9}, {3.500146404417571*^9, 
  3.5001464173279676`*^9}, {3.500146536363826*^9, 3.500146548370677*^9}, {
  3.509462576796815*^9, 3.509462603689622*^9}, {3.5094631644564257`*^9, 
  3.5094631707195797`*^9}, {3.511021480774253*^9, 3.511021509450593*^9}}],

Cell[BoxData["0.002502063843630795`"], "Output",
 CellChangeTimes->{
  3.500145627053631*^9, {3.500146170837*^9, 3.500146178823586*^9}, {
   3.5001464019731417`*^9, 3.500146417747424*^9}, {3.500146549105394*^9, 
   3.500146562306128*^9}, 3.500147373639338*^9, {3.5001474754580593`*^9, 
   3.500147495732399*^9}, 3.500147620666954*^9, 3.5001478269276667`*^9, 
   3.5001481262409143`*^9, 3.5001580336690807`*^9, 3.500159606022592*^9, 
   3.500159964398695*^9, {3.500212095273868*^9, 3.500212109019699*^9}, 
   3.5002122343168592`*^9, 3.500218419780526*^9, 3.509400362631526*^9, 
   3.509462076412808*^9, 3.509462171424737*^9, 3.509462606715478*^9, 
   3.509465176601565*^9, 3.509466932169095*^9, 3.5094673539743967`*^9, 
   3.509467404518899*^9, 3.5094830497442427`*^9, 3.509484481574603*^9, 
   3.50948560560605*^9, 3.509486060043363*^9, 3.511020492992371*^9, 
   3.511021497203578*^9, 3.5110217550711117`*^9, 3.5110218307049026`*^9, 
   3.51102197619335*^9, 3.511022348982687*^9, 3.511029371226259*^9}],

Cell[BoxData[
 FractionBox["1", 
  RowBox[{"0.0021987101553541`", "\[InvisibleSpace]", "-", 
   FractionBox["1", "f"]}]]], "Output",
 CellChangeTimes->{
  3.500145627053631*^9, {3.500146170837*^9, 3.500146178823586*^9}, {
   3.5001464019731417`*^9, 3.500146417747424*^9}, {3.500146549105394*^9, 
   3.500146562306128*^9}, 3.500147373639338*^9, {3.5001474754580593`*^9, 
   3.500147495732399*^9}, 3.500147620666954*^9, 3.5001478269276667`*^9, 
   3.5001481262409143`*^9, 3.5001580336690807`*^9, 3.500159606022592*^9, 
   3.500159964398695*^9, {3.500212095273868*^9, 3.500212109019699*^9}, 
   3.5002122343168592`*^9, 3.500218419780526*^9, 3.509400362631526*^9, 
   3.509462076412808*^9, 3.509462171424737*^9, 3.509462606715478*^9, 
   3.509465176601565*^9, 3.509466932169095*^9, 3.5094673539743967`*^9, 
   3.509467404518899*^9, 3.5094830497442427`*^9, 3.509484481574603*^9, 
   3.50948560560605*^9, 3.509486060043363*^9, 3.511020492992371*^9, 
   3.511021497203578*^9, 3.5110217550711117`*^9, 3.5110218307049026`*^9, 
   3.51102197619335*^9, 3.511022348982687*^9, 3.511029371278257*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["What is new waist size after lens?", "Subsection",
 CellChangeTimes->{{3.5001531981628437`*^9, 3.500153203596348*^9}, {
  3.500156480567745*^9, 3.500156481678136*^9}, {3.5001585317872972`*^9, 
  3.5001585336013193`*^9}, {3.5110220907654457`*^9, 3.51102209239774*^9}}],

Cell[BoxData[{
 RowBox[{"Clear", "[", "afterlenswaist", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"afterlenswaist", "[", "f_", "]"}], ":=", 
  RowBox[{
   FractionBox[
    RowBox[{"f", "*", "lambda"}], 
    RowBox[{"\[Pi]", "*", "w0"}]], "*", 
   SqrtBox[
    FractionBox["1", 
     RowBox[{"1", "+", 
      SuperscriptBox[
       RowBox[{"(", 
        FractionBox["f", "zR"], ")"}], "2"]}]]], 
   RowBox[{"(*", " ", 
    RowBox[{
    "size", " ", "of", " ", "waist", " ", "after", " ", "lens", " ", "1"}], 
    " ", "*)"}], 
   RowBox[{"(*", 
    RowBox[{"problem", " ", "with", " ", "this", " ", 
     RowBox[{"formula", "?", " ", "should"}], " ", "it", " ", "be", " ", 
     FractionBox[
      RowBox[{"f", "*", "lambda"}], 
      RowBox[{"\[Pi]", "*", "w0"}]], " ", 
     RowBox[{"instead", "?"}]}], " ", "*)"}]}]}]}], "Input",
 CellChangeTimes->{{3.5001532192671547`*^9, 3.500153282111457*^9}, {
   3.5001533424454603`*^9, 3.500153397859826*^9}, {3.5001553211067038`*^9, 
   3.500155371770279*^9}, {3.500155576894339*^9, 3.500155659105715*^9}, {
   3.500155692616603*^9, 3.500155861073536*^9}, {3.500155952402603*^9, 
   3.500155978635391*^9}, {3.500156488232039*^9, 3.5001565815093307`*^9}, {
   3.500156619269264*^9, 3.500156633004012*^9}, {3.50015666311832*^9, 
   3.500156663235176*^9}, {3.50015669880939*^9, 3.5001567630972757`*^9}, 
   3.500158455153513*^9, {3.5001596273821993`*^9, 3.500159734153015*^9}, {
   3.509462641784665*^9, 3.5094626730502987`*^9}, {3.509466953389956*^9, 
   3.509466977602583*^9}, 3.509467012762951*^9, {3.5094670563854523`*^9, 
   3.509467076175768*^9}, {3.509486985847838*^9, 3.509487013672715*^9}, {
   3.511022057790031*^9, 3.511022111454932*^9}}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Compare Ideal to Aberration Spot Sizes", "Section",
 CellChangeTimes->{{3.5110218520248013`*^9, 3.511021862934245*^9}}],

Cell[CellGroupData[{

Cell["Lens Parameters", "Subsection",
 CellChangeTimes->{{3.511021516845652*^9, 3.5110215207927303`*^9}, {
  3.511022277451951*^9, 3.511022282631415*^9}}],

Cell[BoxData[{
 RowBox[{"Clear", "[", 
  RowBox[{"f", ",", "lensdiam"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"f", " ", "=", " ", 
    RowBox[{"100", "*", 
     RowBox[{"10", "^", 
      RowBox[{"-", "3"}]}]}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"focal", " ", "length", " ", "of", " ", "lens"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"lensdiam", " ", "=", " ", 
   RowBox[{"10", "*", 
    RowBox[{"10", "^", 
     RowBox[{"-", "3"}]}]}]}], ";", " ", 
  RowBox[{"(*", " ", 
   RowBox[{"physical", " ", "diameter", " ", "of", " ", "lens"}], " ", "*)"}],
   "\[IndentingNewLine]", 
  RowBox[{"CA", "=", 
   RowBox[{"0.85", "*", "lensdiam"}]}], ";"}]}], "Input",
 CellChangeTimes->{
  3.5110215300503902`*^9, {3.511021564819016*^9, 3.511021583352509*^9}, {
   3.5110216189514627`*^9, 3.5110216285957317`*^9}, {3.5110216832879057`*^9, 
   3.511021687157453*^9}, {3.5110219675968933`*^9, 3.511021967667358*^9}, {
   3.5110221675824327`*^9, 3.511022167726365*^9}, {3.511022202852312*^9, 
   3.5110222373000803`*^9}, {3.511022289580497*^9, 3.511022316713376*^9}, {
   3.511029443395321*^9, 3.51102944369071*^9}, {3.5110295670018682`*^9, 
   3.51102960251793*^9}, {3.511029856198069*^9, 3.511029857301414*^9}, {
   3.511029909693359*^9, 3.511029909844816*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Spot Sizes", "Subsection",
 CellChangeTimes->{{3.511022196354272*^9, 3.511022198243463*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"N", "[", 
  RowBox[{"afterlenswaist", "[", "f", "]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"aberrationspotsize", "[", 
  RowBox[{"f", ",", "CA"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"aberrationspotsize", "[", 
   RowBox[{"f", ",", "CA"}], "]"}], "/", 
  RowBox[{"afterlenswaist", "[", "f", "]"}]}]}], "Input",
 CellChangeTimes->{
  3.511021873300892*^9, {3.511021909003628*^9, 3.511021912620344*^9}, {
   3.511021987661433*^9, 3.511022007185014*^9}, {3.511022116558565*^9, 
   3.511022125038074*^9}}],

Cell[BoxData["0.000013547069855579504`"], "Output",
 CellChangeTimes->{
  3.511021914375597*^9, {3.511021979049656*^9, 3.511022007809477*^9}, {
   3.511022120091646*^9, 3.511022125453669*^9}, {3.5110222079444532`*^9, 
   3.5110222396259613`*^9}, {3.51102228583639*^9, 3.5110223190119658`*^9}, 
   3.5110223636463947`*^9, 3.511029387663664*^9, 3.511029445913772*^9, {
   3.5110295691022253`*^9, 3.5110295741506643`*^9}, 3.511029604387863*^9, 
   3.511029860962531*^9, 3.5110299114395847`*^9}],

Cell[BoxData["4.1146375`*^-6"], "Output",
 CellChangeTimes->{
  3.511021914375597*^9, {3.511021979049656*^9, 3.511022007809477*^9}, {
   3.511022120091646*^9, 3.511022125453669*^9}, {3.5110222079444532`*^9, 
   3.5110222396259613`*^9}, {3.51102228583639*^9, 3.5110223190119658`*^9}, 
   3.5110223636463947`*^9, 3.511029387663664*^9, 3.511029445913772*^9, {
   3.5110295691022253`*^9, 3.5110295741506643`*^9}, 3.511029604387863*^9, 
   3.511029860962531*^9, 3.511029911441963*^9}],

Cell[BoxData["0.30372896455578124`"], "Output",
 CellChangeTimes->{
  3.511021914375597*^9, {3.511021979049656*^9, 3.511022007809477*^9}, {
   3.511022120091646*^9, 3.511022125453669*^9}, {3.5110222079444532`*^9, 
   3.5110222396259613`*^9}, {3.51102228583639*^9, 3.5110223190119658`*^9}, 
   3.5110223636463947`*^9, 3.511029387663664*^9, 3.511029445913772*^9, {
   3.5110295691022253`*^9, 3.5110295741506643`*^9}, 3.511029604387863*^9, 
   3.511029860962531*^9, 3.511029911443861*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Rationale for 100 mm, 500 mm telescope system for optical dipole trap laser\
\>", "Subsection",
 CellChangeTimes->{{3.511029767611575*^9, 3.511029783103731*^9}}],

Cell["\<\
f = 500 mm, 25.4 mm diameter lens has an aberration spot size about 4% of the \
ideal spot size.  This lens does not pose any issues for us.
On the other hand, f = 100 mm, 25.4 mm diameter lens has an aberration spot \
size 5 times the size of the ideal spot size.  Reducing the f = 100 mm lens \
diameter to 10 mm yields an aberration spot size 30% that of the ideal spot \
size.  This still isn't great, but I think it's livable, especially when we \
know the AOM will mess up beam quality anyway.  Smaller focal length won't \
help; longer focal length will be problematic for fitting onto optics \
breadboard.  This seems like a reasonable trade-off.\
\>", "Text",
 CellChangeTimes->{{3.5110297917034616`*^9, 3.5110299369448013`*^9}, {
  3.5110971850388107`*^9, 3.51109721983389*^9}}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{640, 656},
WindowMargins->{{12, Automatic}, {Automatic, 24}},
FrontEndVersion->"7.0 for Mac OS X x86 (32-bit) (February 18, 2009)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[567, 22, 109, 1, 26, "Subsubtitle"],
Cell[679, 25, 420, 7, 56, "Text"],
Cell[1102, 34, 368, 6, 56, "Text"],
Cell[CellGroupData[{
Cell[1495, 44, 180, 2, 67, "Section"],
Cell[1678, 48, 657, 13, 146, "Text"],
Cell[2338, 63, 757, 18, 83, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[3132, 86, 161, 2, 67, "Section"],
Cell[CellGroupData[{
Cell[3318, 92, 354, 7, 49, "Subsection"],
Cell[3675, 101, 207, 4, 41, "Text"],
Cell[3885, 107, 3316, 70, 150, "Input"],
Cell[7204, 179, 469, 8, 56, "Text"],
Cell[CellGroupData[{
Cell[7698, 191, 3189, 81, 249, "Input"],
Cell[10890, 274, 1032, 15, 27, "Output"],
Cell[11925, 291, 1037, 15, 27, "Output"],
Cell[12965, 308, 1033, 15, 27, "Output"],
Cell[14001, 325, 1117, 17, 27, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[15167, 348, 262, 3, 34, "Subsection"],
Cell[CellGroupData[{
Cell[15454, 355, 1165, 27, 88, "Input"],
Cell[16622, 384, 1002, 14, 27, "Output"],
Cell[17627, 400, 1086, 17, 55, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[18762, 423, 273, 3, 34, "Subsection"],
Cell[19038, 428, 1698, 36, 137, "Input"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[20785, 470, 125, 1, 67, "Section"],
Cell[CellGroupData[{
Cell[20935, 475, 154, 2, 34, "Subsection"],
Cell[21092, 479, 1315, 30, 73, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[22444, 514, 98, 1, 34, "Subsection"],
Cell[CellGroupData[{
Cell[22567, 519, 545, 12, 58, "Input"],
Cell[23115, 533, 491, 7, 27, "Output"],
Cell[23609, 542, 479, 7, 30, "Output"],
Cell[24091, 551, 485, 7, 27, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[24625, 564, 171, 3, 34, "Subsection"],
Cell[24799, 569, 798, 12, 116, "Text"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
